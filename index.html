<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© Ø·Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø±Ø¨ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø­Ø³Ù†Ø©</title>
  <style>
    /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #001510);
      color: #fff;
      text-align: center;
      direction: rtl; /* Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
      min-height: 100vh;
      overflow-x: hidden;
      padding: 10px;
    }

    .container {
      max-width: 100%;
      margin: 0 auto;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    h1 {
      color: #ffcc00;
      font-size: 2.2rem;
      margin: 10px 0;
      text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
      background: linear-gradient(45deg, #ffcc00, #ff6600);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .team-inputs, .selection {
      margin: 15px 0;
      padding: 12px;
      background: rgba(30, 30, 40, 0.7);
      border-radius: 12px;
    }

    input {
      width: 100%;
      padding: 12px 15px;
      margin: 8px 0;
      border: 2px solid #444;
      border-radius: 8px;
      background: #222;
      color: #fff;
      font-size: 16px;
    }

    input::placeholder {
      color: #aaa;
    }

    input:focus {
      outline: none;
      border-color: #ffcc00;
    }

    button {
      padding: 12px 25px;
      font-size: 18px;
      cursor: pointer;
      margin-top: 12px;
      background: linear-gradient(45deg, #ff8c00, #ffcc00);
      color: #000;
      border: none;
      border-radius: 30px;
      font-weight: bold;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    }

    button:active {
      transform: translateY(1px);
    }

    /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© 9x9 Ù…Ø¹ Ù…Ù†Ø·Ù‚Ø© Ù…Ø±ÙƒØ²ÙŠØ© Ù…Ø¹Ø¯Ù„Ø© */
    .symbols-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 15px auto;
      width: 100%;
      max-width: 600px;
    }
    
    .symbols-grid {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      grid-template-rows: repeat(9, 1fr);
      gap: 3px;
      width: 100%;
      aspect-ratio: 1/1;
      position: relative;
    }

    /* Ù‡Ù†Ø§ ÙŠØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ø±Ù…ÙˆØ² - ØªÙ… Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø¬Ù… Ù…Ù† 20px Ø¥Ù„Ù‰ 24px */
    .symbol {
      font-size: 24px;
      background: linear-gradient(145deg, #2c3e50, #4a6491);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      padding: 2px;
      z-index: 1;
    }

    .symbol:hover {
      transform: scale(1.05);
      background: linear-gradient(145deg, #4a6491, #2c3e50);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
    }

    .symbol.disabled {
      pointer-events: none;
      opacity: 0.3;
      transform: scale(0.95);
    }

    /* Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© Ù„Ù„ØµÙˆØ±Ø© - ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ù„ØªØµØ¨Ø­ Ø£ÙˆØ³Ø¹ Ø¨Ø¹Ù…ÙˆØ¯ Ø¥Ø¶Ø§ÙÙŠ */
    .center-image {
      grid-row: 3 / 9;  /* ØªØºØ·ÙŠØ© 6 ØµÙÙˆÙ (Ù…Ù† Ø§Ù„ØµÙ 3 Ø¥Ù„Ù‰ 9) */
      grid-column: 4 / 7; /* ØªØºØ·ÙŠØ© 3 Ø£Ø¹Ù…Ø¯Ø© (Ù…Ù† Ø§Ù„Ø¹Ù…ÙˆØ¯ 4 Ø¥Ù„Ù‰ 7) */
      background: linear-gradient(135deg, #3a1c71, #d76d77, #ffaf7b);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
      border: 2px solid #ffcc00;
      z-index: 2;
      perspective: 1000px;
    }

    .center-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.85;
      transition: transform 0.5s ease;
      backface-visibility: hidden;
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© */
    .flip-image {
      animation: flipEffect 0.8s ease;
    }
    
    .rotate-image {
      animation: rotateEffect 0.7s ease;
    }
    
    .zoom-image {
      animation: zoomEffect 0.6s ease;
    }
    
    @keyframes flipEffect {
      0% { transform: rotateY(0deg); }
      50% { transform: rotateY(90deg); }
      100% { transform: rotateY(0deg); }
    }
    
    @keyframes rotateEffect {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    @keyframes zoomEffect {
      0% { transform: scale(0.1); }
      70% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    /* Ø®Ù„Ø§ÙŠØ§ ÙØ§Ø±ØºØ© Ø®Ù„Ù Ø§Ù„ØµÙˆØ±Ø© */
    .empty-cell {
      background: transparent;
    }

    .effect-box {
      margin: 20px auto;
      font-size: 20px;
      background: rgba(20, 20, 30, 0.9);
      padding: 20px;
      border-radius: 12px;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: pre-line;
      border: 2px solid #444;
      box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
      line-height: 1.6;
      font-weight: bold;
    }

    #scoreDisplay {
      font-size: 22px;
      margin: 20px 0;
      padding: 15px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      border: 2px solid #ffcc00;
    }

    .score-value {
      color: #ffcc00;
      font-weight: bold;
      font-size: 24px;
    }

    .round-info {
      font-size: 24px;
      margin: 15px 0;
      color: #4dff4d;
    }

    .team-name {
      color: #ff9966;
      font-weight: bold;
    }

    .developer {
      background: rgba(0, 0, 0, 0.7);
      padding: 15px;
      border-radius: 12px;
      margin: 20px 0;
      border: 1px solid #444;
    }

    .developer h2 {
      color: #ffcc00;
      margin-bottom: 12px;
      font-size: 1.5rem;
    }

    .developer ul {
      list-style-type: none;
      padding: 0;
    }

    .developer li {
      margin: 8px 0;
      padding: 8px;
      background: rgba(50, 50, 70, 0.5);
      border-radius: 8px;
      font-size: 0.9rem;
    }

    .footer {
      margin-top: 20px;
      padding: 12px;
      color: #aaa;
      font-size: 13px;
    }

    .symbols-exhausted {
      color: #ff5555;
      font-weight: bold;
      margin-top: 15px;
    }

    /* Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      .symbols-grid {
        max-width: 95vw;
        gap: 2px;
      }
      
      /* ØªØ¹Ø¯ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ø±Ù…ÙˆØ² ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© */
      .symbol {
        font-size: 20px;
      }
      
      .center-image {
        grid-row: 1 / 10;
        grid-column: 2 / 7;
      }
      
      .effect-box {
        font-size: 18px;
        padding: 15px;
      }
    }

    @media (max-width: 480px) {
      /* ØªØ¹Ø¯ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ø±Ù…ÙˆØ² ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
      .symbol {
        font-size: 16px;
        padding: 1px;
      }
      
      h1 {
        font-size: 1.6rem;
      }

      .effect-box {
        font-size: 16px;
        padding: 12px;
      }

      #scoreDisplay {
        font-size: 18px;
        padding: 10px;
      }
      
      .symbols-grid {
        gap: 1px;
      }
      
      .round-info {
        font-size: 20px;
      }
      
      button {
        padding: 10px 20px;
        font-size: 16px;
      }
      
      .developer h2 {
        font-size: 1.3rem;
      }
    }

    @media (max-width: 380px) {
      /* ØªØ¹Ø¯ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ø±Ù…ÙˆØ² ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
      .symbol {
        font-size: 14px;
      }
      
      .round-info {
        font-size: 18px;
      }
      
      button {
        padding: 8px 16px;
        font-size: 14px;
      }
      
      .developer li {
        font-size: 12px;
      }
      
      .footer {
        font-size: 12px;
      }
    }

    /* Ø²Ø± Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø© */
    #newGameBtn {
      margin-top: 20px;
      padding: 12px 25px;
      font-size: 18px;
      cursor: pointer;
      background: linear-gradient(45deg, #ff3300, #ff9900);
      color: #fff;
      border: none;
      border-radius: 30px;
      font-weight: bold;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      display: none;
    }

    #newGameBtn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
      background: linear-gradient(45deg, #ff5500, #ffaa00);
    }
    
    /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª */
    .effect-enemy {
      color: #4dff4d;
    }
    
    .effect-self {
      color: #ff5555;
    }
  </style>
</head>
<body>
  <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù„Ø¹Ø¨Ø© -->
  <div class="container">
    <div class="developer">
      <h2>ğ–¤ | ğ‘ğ„ğƒğ’ğ–ğğ‘ğƒ & ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆÙŠØ±</h2>
      <ul>
        <li><strong>ğ–¤ | ğ‘ğ„ğƒğ’ğ–ğğ‘ğƒ</strong> â€“ Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹_Ø¨Ø±Ù…Ø¬Ø©</li>
        <li>Ø¹Ù„ÙŠ Ø§Ù„Ù…Ø·ÙˆØ± â€“ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù„Ø¹Ø¨</li>
        <li>Ø³Ø§Ø±Ø§ â€“ Ø¬Ø±Ø§ÙÙŠÙƒ ÙˆØªØµÙ…ÙŠÙ…</li>
      </ul>
    </div>

    <h1>Ù„Ø¹Ø¨Ø© Ø·Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø±Ø¨ âš”ï¸</h1>

    <div class="team-inputs">
      <input type="text" id="team1" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„" value="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±" />
      <input type="text" id="team2" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ" value="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚" />
      <input type="number" id="startScore" placeholder="Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©" value="400" />
      <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
    </div>

    <div class="selection" style="display:none">
      <div class="round-info" id="roundInfo">Ø§Ù„Ø¬ÙˆÙ„Ø© 1</div>
      <p><strong id="currentTeam" class="team-name"></strong> Ø§Ø®ØªØ± Ø±Ù…Ø²Ùƒ:</p>

      <!-- Ø­Ø§ÙˆÙŠØ© Ø´Ø¨ÙƒØ© Ø§Ù„Ø±Ù…ÙˆØ² -->
      <div class="symbols-container">
        <div class="symbols-grid" id="symbolGrid"></div>
      </div>
      
      <div id="symbolsExhausted" class="symbols-exhausted" style="display:none">
        Ù„Ù‚Ø¯ ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ù…ÙˆØ²! Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù†ØªÙ‡Øª.
      </div>

      <div class="effect-box" id="effectBox">Ø§Ø®ØªØ± Ø±Ù…Ø²Ù‹Ø§ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰!</div>

      <button id="nextBtn" style="display:none; margin-top:20px;" onclick="nextTurn()">Ø§Ù„ØªØ§Ù„ÙŠ</button>

      <div id="scoreDisplay"></div>
    </div>

    <button id="newGameBtn" onclick="newGame()">Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
    
    <div class="footer">
      ØªÙ… ØªØ·ÙˆÙŠØ± Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¯Ù‚Ø© Ù„ØªÙƒÙˆÙ† Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø°ÙƒÙŠØ© Ø¹Ù† Ø·Ø±ÙŠÙ‚ ÙØ±ÙŠÙ‚ ØªØ·ÙˆÙŠØ± __ ğ–¤ | ğ‘ğ„ğƒğ’ğ–ğğ‘ğƒ - Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªØ¬Ø±Ø¨Ø©! Ø§Ù„Ø§ØµØ¯Ø§Ø± 1.0
    </div>
  </div>

  <script>
    // Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø«Ø§Ø¨Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
    const fixedOrderedSymbols = [
      // Ø§Ù„Ø£Ø±Ù‚Ø§Ù… (20 Ø±Ù…Ø²Ù‹Ø§)
      '1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20',
      // Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª (20 Ø±Ù…Ø²Ù‹Ø§)
      'ğŸ˜','ğŸ¦’','ğŸ¦','ğŸ¦Œ','ğŸª','ğŸ¦˜','ğŸ','ğŸ„','ğŸ¸','ğŸŸ','ğŸ¢','ğŸ','ğŸˆ','ğŸ€','ğŸ“','ğŸ¦†','ğŸ•Šï¸','ğŸ¦‹','ğŸŒ','ğŸ‡',
      // Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø£Ø®Ø±Ù‰ (20 Ø±Ù…Ø²Ù‹Ø§)
      'â¤ï¸','ğŸ‘ï¸','âœˆï¸','âš½','âœï¸','ğŸª¶','ğŸŒ›','â­','âœ‰ï¸','ğŸ“','ğŸ“·','ğŸ”','ğŸ§²','ğŸ’£','ğŸ”‘','ğŸ”’','ğŸ ','ğŸ’¼','ğŸµ','ğŸ’¡'
    ];

    // Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¹ Ø§Ù„Ù…Ø³Ù…ÙŠØ§Øª ÙˆØ§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
    const newEffects = [
      { name: "Ù‚Ø¨Ø¶Ø© Ø±ÙŠØ¯Ø³ÙˆØ±Ø¯ Ø§Ù„Ù…Ø­ÙƒÙ…Ø© Ø£Ø·Ø¨Ù‚Øª Ø¹Ù„Ù‰ Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¹Ø¯Ùˆ", points: 36, image: "himo4.png" },
      { name: "Ù„ØºØ² Ø§Ù„Ø¹Ø³ÙŠØ±ÙŠ Ø§Ù„Ù…Ø­ÙŠØ± Ø£Ø±Ø¨Ùƒ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø¹Ø¯Ùˆ", points: 29, image: "alasiri.png" },
      { name: "Ø¹Ø¨Ù‚Ø±ÙŠØ© Ù…Ø§Ø¬Ø¯ Ø§Ù„ØªÙƒØªÙŠÙƒÙŠØ© ØªÙ‚Ù„Ø¨ Ø§Ù„Ø·Ø§ÙˆÙ„Ø©", points: 41, image: "majd4.png" },
      { name: "Ù„ÙˆØ§Ø¡ Ø¨Ø±Ø³ØªÙŠØ¬ Ø§Ù„Ø³Ø§Ø¨Ø¹ ÙŠÙ‚ØªØ­Ù… Ù…Ø¹Ø³ÙƒØ± Ø§Ù„Ø¹Ø¯Ùˆ", points: 29, image: "prpr5.png" },
      { name: "ØªÙ†Ù…Ø± Ø£Ø³ÙŠØ± Ø§Ù„Ø¬Ø§Ø±Ø­", points: 34, image: "Asire3.png" },
      { name: "Ù‚ÙˆØ§Øª Ø±ÙŠØ¯Ø³ÙˆØ±Ø¯ Ø§Ù„Ø¬Ø§Ù…Ø­Ø©", points: 44, image: "himo6.png" },
      { name: "Ø·Ù„Ù‚Ø© Ù…Ø§Ø¬Ø¯ Ø§Ù„Ù…Ø¹ÙƒÙˆØ³Ø© Ø§Ø±ØªØ¯Øª Ø¹Ù„ÙŠÙƒÙ…", points: -14, image: "majd6.png" },
      { name: "ÙƒØ±Ø³ÙŠ Ø¨Ø±ÙŠØ³ØªÙŠØ¬ Ø§Ù„Ù…ØªØ­Ø±Ùƒ", points: -28, image: "prpr3.png" },
      { name: "Ù…ØµÙŠØ¨Ø© Ø§Ù‡Ø±Ø¨Ùˆ.. Ø¨Ø±Ø§Ø·Ù… Ù†ÙŠÙ†Ø§ ÙƒØ£Ù†Ù‡Ø§ Ø¹Ø¬Ù„Ø§Øª Ø­Ø±Ø§Ø«Ø© Ø¹Ù„Ù‰ ÙˆØ´Ùƒ Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±", points: -16, image: "nina.png" },
      { name: "Ø§Ù†Ø¯ÙØ§Ø¹ Ù…Ø§Ø¬Ø¯ Ø§Ù„Ù…ØªÙ‡ÙˆØ±", points: -35, image: "majd3.png" },
      { name: "Ø±Ù…Ø­ Ø±ÙŠØ¯Ø³ÙˆØ±Ø¯ Ø§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒÙŠ", points: 2, image: "himo2.png" },
      { name: "Ø­ØµØ§Ù† Ø³Ø¨Ø§Ù‚ Ù…Ø§Ø¬Ø¯ Ø§Ù„Ø§Ø¹Ø±Ø¬ ÙŠØ³Ø§Ø¨Ù‚ Ø§Ù„Ø±ÙŠØ­", points: 23, image: "majd2.png" },
      { name: "ØªÙ†ÙŠÙ† Ø³Ù…Ø§ÙˆÙŠ", points: 52, image: "tnin.png" },
      { name: "Ù‚ÙˆØ§Øª Ø¨Ø§Ø±ÙØ§Ù† Ø§Ù„Ù†Ø§Ø±ÙŠØ©", points: 29, image: "barfan2.png" },
      { name: "Ø±ÙˆØ§Ø¦Ø­ ÙƒØ±ÙŠÙ‡Ø© ØªÙÙˆØ­ Ù…Ù† ÙØ±ÙŠÙ‚Ùƒ", points: -8, image: "afn.png" },
      { name: "ØªÙƒÙ„ÙŠØ¬Ø§Øª Ù‡ÙŠÙˆÙ† Ù„Ø§ ØªÙ†ØªÙ‡ÙŠ", points: 9, image: "hyon2.png" },
      { name: "Ø´Ø¨Ø­ Ù†Ø¨Ø¶ Ø§Ù„Ø§Ø­ÙˆÙ„", points: -22, image: "shph.png" },
      { name: "Ø´Ø¨Ø´Ø¨ Ø¬Ø¯ØªÙŠ Ø²Ø±Ø¹Ø© Ø§Ù„Ø·Ø§Ø¦Ø±", points: 33, image: "zraa.png" },
      { name: "Ø¯Ø±Ø§Ø¬Ø© Ø¨Ø±Ø³ØªÙŠØ¬ Ø§Ù„Ù…Ù‚Ø±Ø¨Ø¹Ø©", points: -20, image: "prpr2.png" },
      { name: "Ù‡Ø±Ù…ÙˆÙ†Ø§Øª Ø­ÙØµØ© Ø§Ù„Ù…ØªÙ‚Ù„Ø¨Ø©", points: -28, image: "hfsa.png" },
      { name: "Ù…Ø¹Ø³Ù„ Ù†Ø§ÙŠ Ø§Ù„ÙØ§Ø³Ø¯", points: -18, image: "nay1.png" },
      { name: "Ø³ÙˆØ§Ù„Ù Ù…Ø§Ø±ÙŠØ§ Ù…Ø¹ Ø§Ù„Ø¬Ø¯Ø±Ø§Ù† Ø§ØªØª Ø¨Ø«Ù…Ø§Ø±Ù‡Ø§", points: 13, image: "maria.png" },
      { name: "ØªÙ…Ø±Ø¯ Ø¯Ø§Ø®Ù„ÙŠ Ø¨Ù‚ÙŠØ§Ø¯Ø© Ø¹Ø¨ÙˆØ¯", points: -10, image: "abod.png" },
      { name: "Ù‚Ù†Ø¨Ù„Ø© Ø§Ù„Ù‚ÙŠØµØ± Ø§Ù„Ù†ÙˆÙˆÙŠØ©", points: 49, image: "nwawi49.png" },
      { name: "Ø§Ù†ÙØ¬Ø§Ø± Ù†Ø¬Ù… ÙƒÙˆÙ†ÙŠ", points: 52, image: "ngm52.png" },
      { name: "ØªØ­Ø§Ù„ÙØ§Øª Ø±ÙŠØ¯Ø³ÙˆØ±Ø¯ ÙˆÙ…Ø§Ø¬Ø¯ Ø§Ù„Ù†ÙˆÙˆÙŠØ©", points: 26, image: "himo7.png" },
      { name: "Ù…Ø³Ø¯Ø³ Ø£Ø³ÙŠØ± Ø§Ù„Ù…Ø§Ø¦ÙŠ", points: 0, image: "Asire2.png" },
      { name: "ÙƒØ±Ø´Ø© Ù†Ø³ÙŠÙ… Ø§Ù„Ù…Ù†ØªÙØ®Ø© Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø³Ù…Ù†Ø© Ø§Ù„Ù…ÙØ±Ø·Ø©ğŸ˜‚", points: 17, image: "nsim.png" },
      { name: "ØªØ§Ø¨ÙˆØª Ø¬Ø«Ø© ÙƒÙŠÙ…Ùˆ", points: -18, image: "kimo.png" },
      { name: "Ø´Ø¹ÙˆØ°Ø© ÙˆØ¨Ø®ÙˆØ± Ø¹Ù‡ÙˆØ¯ Ø¨Ø¯Ø£Øª ÙÙŠ Ø§Ù„Ø¹Ù…Ù„", points: 7, image: "aohod.png" },
      { name: "Ù‚ÙŠØ§Ø¯Ø© Ø¨Ø§Ø±ÙØ§Ù† Ø§Ù„Ù…Ø­Ù†ÙƒØ©", points: 14, image: "barfan.png" },
      { name: "Ø®ÙŠØ´Ø© Ø¨ØµÙ„ Ø³Ø§Ø±Ø§ ÙƒØªÙ…Øª Ø§Ù„Ø¹Ø¯Ùˆ Ø¨Ø±Ø§Ø¦Ø­ØªÙ‡Ø§", points: 16, image: "sara2.png" },
      { name: "Ø´ÙØ±Ø§Øª Ø³Ø§Ø·ÙˆØ± ÙØ§Ø±Ø³", points: 10, image: "faris.png" },
      { name: "Ø§Ø³Ø·ÙˆÙ„ Ø±ÙŠØ¯Ø³ÙˆØ±Ø¯ Ø§Ù„Ø±ÙˆØ³ÙŠ", points: 39, image: "himo.png" },
      { name: "Ø±ÙØ³Ø© Ø¯ÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø¯ÙˆÙŠØ©", points: 15, image: "donat.png" },
      { name: "Ø´Ù†Ø¨ Ø³ÙˆØ³Ùˆ Ø§Ù„ÙˆØ±Ø¯ÙŠ", points: 11, image: "soso.png" },
      { name: "Ù‚Ù†Ø¨Ù„Ø© ÙˆØ·Ù† Ø¹Ù…Ø±ÙŠ Ø§Ù„Ù‡Ø¬ÙˆÙ…ÙŠØ©", points: 32, image: "wtn.png" },
      { name: "Ø¹Ø·Ø³Ø© Ø®ÙŠØ§Ù„ÙŠ Ø§Ù„Ù…ÙØ¬Ø¹Ø© Ø³Ø¨Ø¨Øª Ø²ÙˆØ¨Ø¹Ø© Ø¨Ø§Ù„Ø±ÙˆÙ…", points: -37, image: "khiali.png" },
      { name: "ÙƒÙØ±Ø§Ø«Ø© Ù‡ÙŠÙˆÙ† Ø§Ù„ÙØ§Ø³Ø¯Ø©", points: -16, image: "hion.png" },
      { name: "ØªØ®Ø²ÙŠÙ†Ø© Ø´Ø§Ù…Ø® Ø§Ù„Ù…Ø®Ø¯Ø±Ø©", points: 27, image: "Sh.png" },
      { name: "Ø§Ù†Ø¯ÙˆÙ…ÙŠ Ø§Ù„ÙØ§Ø±Ù‚Ø© Ø¨Ù†ÙƒÙ‡Ø© Ø§Ù„ØµØ±Ø§ØµÙŠØ±", points: -22, image: "fraga.png" },
      { name: "Ø¯Ø¨Ø§Ø¨Ø© Ø³Ù†ØªÙˆØ¨ Ø§Ù„Ù…Ø­ØªØ±ÙØ©", points: 21, image: "sntob.png" },
      { name: "ÙÙ‡Ø§ÙˆØ© Ø³Ù„ØªÙˆØ­ Ø§Ù„Ø¶Ø§ÙŠØ¹Ø©", points: 0, image: "sltoh.png" },
      { name: "Ø­Ø¸ Ø¯Ù†Ø¯ÙˆÙ†Ø© Ø§Ù„Ù…ØµØ®Ù…", points: 0, image: "dndona.png" },
      { name: "Ù„Ø¯ØºØ© Ø®ÙŠØ§Ù„ ÙˆØ£Ù…ÙŠÙ…Ø© Ø§Ù„Ø¶Ø§ÙŠØ¹Ø©", points: -19, image: "qmr.png" },
      { name: "Ø¨Ø±ÙˆØ¯ Ù†Ø§ÙŠ Ø§Ù„Ø®Ø¨ÙŠØ«Ø©", points: 36, image: "nay2.png" },
      { name: "Ø·Ù„Ø§Ø³Ù… Ø£Ø³ÙŠØ±", points: 39, image: "Asire1.png" },
      { name: "Ù†ÙØ³ÙŠØ© Ø§Ù„Ø¹Ø¬ÙˆØ² Ù„ÙŠÙ†Ùˆ Ø§Ù„Ù…Ø¶Ø±ÙˆØ¨Ø©", points: -12, image: "lino.png" },
      { name: "Ø¹ÙŠÙˆÙ† Ø¯ÙŠÙ†ÙŠØ² Ø§Ù„Ø­ÙˆÙ„Ø§", points: -9, image: "diniz.png" },
      { name: "Ù„Ù‚Ø§ÙØ© Ø¯Ù†Ùˆ Ø§Ù„ÙØ¶ÙˆÙ„ÙŠØ©", points: -21, image: "dno.png" },
      { name: "ÙÙ„Ø³ÙØ© Ø£Ù†Ø³ Ø§Ù„Ù‡Ø§Ø¨Ø·Ø©", points: -16, image: "ans.png" },
      { name: "ÙØµÙ„Ø§Øª Ø§Ù…Ø¬Ø¯ Ø§Ù„Ù…ØªÙ‚Ù„Ø¨Ø©", points: -34, image: "amgd.png" },
      { name: "Ø·Ù‚Ø·Ù‚Ø© Ù…Ø°Ù‡Ù„Ø©", points: 38, image: "modhla.png" },
      { name: "Ø­Ù…Ø§Ø± Ø´Ø§ÙƒØ± Ø§Ù„Ø¹ØµØ¨ÙŠ", points: -29, image: "shakr.png" },
      { name: "Ø·Ø¨Ø® Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ Ø§Ù„ÙØ§Ø³Ø¯ ÙŠØ³Ø¨Ø¨ Ù„ÙƒÙ… Ø§Ø³Ù‡Ø§Ù„Ø§Øª Ø´Ø¯ÙŠØ¯Ø©", points: -28, image: "jokr.png" },
      { name: "Ø³Ù… Ø¨Ø±ÙŠØ³ØªÙŠØ¬ Ø§Ù„Ù‚Ø§ØªÙ„", points: 33, image: "prpr1.png" },
      { name: "Ø±ÙØ³Ø© Ø­Ù…Ø§Ø± Ø¬Ø­Ø§", points: -38, image: "donkey.png" },
      { name: "ØµØ±Ø§Ø® Ø³Ø§Ø±Ø§ Ø§Ù„Ù…Ø²Ø¹Ø¬", points: -8, image: "sara1.png" },
      { name: "Ø´Ø®ÙŠØ± Ø³ÙŠÙ Ø§Ù„Ø¹Ø§Ù„ÙŠ", points: 27, image: "sif.png" },
      { name: "Ø«Ø±Ø«Ø±Ø© Ø§Ù„Ø¹Ù…Ø¯Ø© Ø§Ù„ÙØ§Ø±ØºØ©", points: -18, image: "omda.png" },
      { name: "Ø¹ÙƒØ§Ø² Ø§Ù„Ø¹Ø¬ÙˆØ² Ø³Ù…Ø§Ø³Ù… ÙŠØªØµÙ„ Ø¨Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ù‡Ù‡Ù‡Ù‡", points: -24, image: "smasm.png" }
    ];

    // Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø­Ù…Ø§Ø³ÙŠØ©
    const roundNamesPool = [
      "Ø¬ÙˆÙ„Ø© Ø§Ù„ÙØ¬Ø± Ø§Ù„Ø¯Ø§Ù…ÙŠ", "Ø¬ÙˆÙ„Ø© ØµØ¯Ù‰ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©", "Ø¬ÙˆÙ„Ø© Ø£Ù†ÙØ§Ø³ Ø§Ù„Ø´ÙŠØ·Ø§Ù†", "Ø¬ÙˆÙ„Ø© Ø¹ÙˆØ§Ø¡ Ø§Ù„Ø°Ø¦Ø§Ø¨",
      "Ø¬ÙˆÙ„Ø© ØµØ±Ø®Ø§Øª Ø§Ù„Ø£Ø´Ø¨Ø§Ø­", "Ø¬ÙˆÙ„Ø© Ø±Ù‚ØµØ© Ø§Ù„Ù…ÙˆØª", "Ø¬ÙˆÙ„Ø© Ø¸Ù„ Ø§Ù„Ø®ÙŠØ§Ù†Ø©", "Ø¬ÙˆÙ„Ø© Ù‚Ù„Ø¨ Ø§Ù„Ø¸Ù„Ø§Ù…",
      "Ø¬ÙˆÙ„Ø© Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¬Ø­ÙŠÙ…", "Ø¬ÙˆÙ„Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø²Ù…Ù†", "Ø¬ÙˆÙ„Ø© Ø§Ù„Ø¹Ø§ØµÙØ© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡", "Ø¬ÙˆÙ„Ø© Ù†Ø¨Ø¶ Ø§Ù„Ø±Ø¹Ø¨",
      "Ø¬ÙˆÙ„Ø© ØµÙ…Øª Ø§Ù„Ù…Ù‚Ø§Ø¨Ø±", "Ø¬ÙˆÙ„Ø© Ø­Ø§ÙØ© Ø§Ù„Ù‡Ø§ÙˆÙŠØ©", "Ø¬ÙˆÙ„Ø© Ù†Ø§Ø± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù…", "Ø¬ÙˆÙ„Ø© Ù„Ø¹Ù†Ø© Ø§Ù„Ø£Ø¬Ø¯Ø§Ø¯"
    ];

    // ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„ÙÙˆØ²
    const winCommentsPool = [
      "Ù„Ù‚Ø¯ Ø³Ù‚Ø· Ø§Ù„Ø¬Ø¯Ø§Ø±! {team} ÙŠÙ‡Ø²Ù… {loser} ÙˆÙŠÙ†ØªØµØ±! ğŸ†",
      "Ø§Ù„Ù†ØµØ± Ø§Ù„Ø³Ø§Ø­Ù‚! {team} ÙŠÙ‡Ø²Ù… {loser} Ø¨Ø¨Ø±Ø§Ø¹Ø©! ğŸ¯",
      "Ø§Ù„Ø³ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø·Ù„Ù‚Ø©! {team} ÙŠØ³ÙŠØ·Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©! ğŸ‘‘",
      "Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© ØªØ³Ù‚Ø·! {loser} ÙŠÙ†Ù‡Ø²Ù… Ø£Ù…Ø§Ù… {team}! ğŸ°",
      "Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø© ØªØªØ­Ù‚Ù‚! {team} ÙŠÙ†ØªØµØ± Ø¹Ù„Ù‰ {loser}! ğŸ¦¸",
      "Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© ØªØ«Ø¨Øª ØªÙÙˆÙ‚Ù‡Ø§! {team} ÙŠÙ‡Ø²Ù… {loser}! ğŸª–",
      "Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø¨Ø§Ø±Ø¹Ø© ØªÙ‚ÙˆØ¯ {team} Ù„Ù„Ù†ØµØ±! ğŸ§ ",
      "Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ù‚Ø§Ø¶ÙŠØ©! {team} ÙŠÙ†Ù‡ÙŠ {loser}! ğŸ¥Š"
    ];

    let teams = [], scores = {}, currentTurn = 0, round = 1;
    let waitingForNext = false;
    let remainingSymbols = [];
    let symbolEffectsMap = new Map();
    let usedRoundNames = [];
    let currentRoundName = "";
    let currentCenterImage = "tobol.png"; // Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ²
    let preloadedImages = {}; // ÙƒØ§Ø¦Ù† Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­Ù…Ù„Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹

    // Ø¯Ø§Ù„Ø© Ù„Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ© (Fisher-Yates shuffle)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„ÙÙˆØ²
    function getWinComment(winner, loser) {
      const comment = winCommentsPool[Math.floor(Math.random() * winCommentsPool.length)];
      return comment
        .replace(/{team}/g, winner)
        .replace(/{loser}/g, loser);
    }

    // ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙˆØ± Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ù„Ù…Ù†Ø¹ Ø§Ù„ØªØ£Ø®ÙŠØ±
    function preloadImages() {
      // Ø§Ù„ØµÙˆØ± Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©
      const images = ["tobol.png"];
      
      // Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ ØµÙˆØ± Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
      newEffects.forEach(effect => {
        images.push(effect.image);
      });
      
      // ØªØ­Ù…ÙŠÙ„ ÙƒÙ„ ØµÙˆØ±Ø© ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªØµÙØ­
      images.forEach(src => {
        const img = new Image();
        img.src = src;
        preloadedImages[src] = img;
      });
    }

    function startGame() {
      const t1 = document.getElementById('team1').value.trim() || "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±";
      const t2 = document.getElementById('team2').value.trim() || "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚";
      const startScore = parseInt(document.getElementById('startScore').value) || 400;

      teams = [t1, t2];
      scores = {[t1]: startScore, [t2]: startScore};

      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø«Ø§Ø¨Øª
      remainingSymbols = [...fixedOrderedSymbols];

      // ØªØ®ØµÙŠØµ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„Ø±Ù…ÙˆØ² ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©
      symbolEffectsMap = new Map();
      let availableEffects = shuffleArray([...newEffects]);

      // ØªØ®ØµÙŠØµ ØªØ£Ø«ÙŠØ± ÙØ±ÙŠØ¯ Ù„ÙƒÙ„ Ø±Ù…Ø² ÙÙŠ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø«Ø§Ø¨Øª
      for (let i = 0; i < fixedOrderedSymbols.length; i++) {
          const currentSymbol = fixedOrderedSymbols[i];
          const assignedEffect = availableEffects[i];
          symbolEffectsMap.set(currentSymbol, assignedEffect);
      }

      // Ø®Ù„Ø· Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†Ù‡Ø§
      usedRoundNames = shuffleArray([...roundNamesPool]);

      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ù…Ø³Ø¨Ù‚Ø§Ù‹
      preloadImages();

      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©
      currentCenterImage = "tobol.png";

      document.querySelector('.team-inputs').style.display = 'none';
      document.querySelector('.selection').style.display = 'block';
      document.getElementById('symbolsExhausted').style.display = 'none';
      document.getElementById('newGameBtn').style.display = 'block';
      waitingForNext = false;
      currentTurn = 0;
      round = 1;

      showTurn();
    }

    function newGame() {
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
      teams = [];
      scores = {};
      currentTurn = 0;
      round = 1;
      waitingForNext = false;
      remainingSymbols = [];
      symbolEffectsMap = new Map();
      usedRoundNames = [];
      currentRoundName = "";
      currentCenterImage = "tobol.png";

      // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ù‚Ø³Ù… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙØ±Ù‚ ÙˆØ¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©
      document.querySelector('.team-inputs').style.display = 'block';
      document.querySelector('.selection').style.display = 'none';
      document.getElementById('newGameBtn').style.display = 'none';
    }

    function showTurn() {
      // Ø§Ø®ØªÙŠØ§Ø± Ø§Ø³Ù… Ø¬ÙˆÙ„Ø© ÙØ±ÙŠØ¯
      if (usedRoundNames.length === 0) {
        usedRoundNames = shuffleArray([...roundNamesPool]);
      }
      currentRoundName = usedRoundNames.shift();

      document.getElementById('roundInfo').textContent = `${currentRoundName} - Ø§Ù„Ø¬ÙˆÙ„Ø© ${round}`;
      document.getElementById('currentTeam').textContent = `Ø¯ÙˆØ± ${teams[currentTurn]}`;

      if (!waitingForNext) {
        document.getElementById('effectBox').textContent = "Ø§Ø®ØªØ± Ø±Ù…Ø²Ù‹Ø§ Ù„Ø¨Ø¯Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¬ÙˆÙ„Ø©!";
      }

      const grid = document.getElementById('symbolGrid');
      grid.innerHTML = '';

      if (remainingSymbols.length === 0) {
        document.getElementById('symbolsExhausted').style.display = 'block';
        document.getElementById('effectBox').innerHTML =
          "Ù„Ù‚Ø¯ ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ù…ÙˆØ²! Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù†ØªÙ‡Øª.\n\n" +
          `<strong style="color:#ffcc00">${teams[0]}: ${scores[teams[0]]} Ù†Ù‚Ø·Ø© | ${teams[1]}: ${scores[teams[1]]} Ù†Ù‚Ø·Ø©</strong>`;
        document.getElementById('nextBtn').style.display = 'none';
        return;
      }

      // Ø¥Ù†Ø´Ø§Ø¡ Ø®Ù„ÙŠØ© Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
      const centerCell = document.createElement('div');
      centerCell.className = 'center-image';
      centerCell.innerHTML = `<img src="${currentCenterImage}" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø±ÙƒØ©" id="centerImage">`;
      grid.appendChild(centerCell);
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ø±Ù…ÙˆØ²
      let symbolIndex = 0;
      for (let row = 1; row <= 9; row++) {
        for (let col = 1; col <= 9; col++) {
          // ØªØ®Ø·ÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© (Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© 4-6 ÙˆØ§Ù„ØµÙÙˆÙ 3-8)
          if (col >= 4 && col <= 6 && row >= 3 && row <= 8) {
            // Ø®Ù„ÙŠØ© ÙØ§Ø±ØºØ© ÙÙŠ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙˆØ±Ø©
            const emptyCell = document.createElement('div');
            emptyCell.className = 'symbol disabled empty-cell';
            grid.appendChild(emptyCell);
            continue;
          }
          
          const cell = document.createElement('div');
          if (symbolIndex < remainingSymbols.length) {
            const symbol = remainingSymbols[symbolIndex];
            cell.className = `symbol${waitingForNext ? ' disabled' : ''}`;
            cell.textContent = symbol;
            cell.onclick = () => selectSymbol(cell, symbol);
            symbolIndex++;
          } else {
            // Ø®Ù„ÙŠØ© ÙØ§Ø±ØºØ©
            cell.className = 'symbol disabled';
            cell.textContent = '';
          }
          grid.appendChild(cell);
        }
      }

      updateScoreDisplay();
      document.getElementById('nextBtn').style.display = waitingForNext ? 'inline-block' : 'none';
      document.getElementById('symbolsExhausted').style.display = 'none';
    }

    function selectSymbol(el, symbol) {
      if (waitingForNext) return;

      const team = teams[currentTurn];
      const other = teams[1 - currentTurn];
      
      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø®ØµØµ Ù„Ù„Ø±Ù…Ø² ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©
      const effect = symbolEffectsMap.get(symbol);
      const points = effect.points;
      
      let targetTeam = "";
      let message = "";
      let colorClass = "";
      
      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù†Ù‚Ø§Ø·
      if (points >= 0) {
        // Ù†Ù‚Ø§Ø· Ù…ÙˆØ¬Ø¨Ø©: ØªØ®ØµÙ… Ù…Ù† Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø®ØµÙ…
        targetTeam = other;
        scores[targetTeam] -= points;
        colorClass = "effect-enemy"; // Ø£Ø®Ø¶Ø± Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®ØµÙ…
        message = `<span class="${colorClass}">${effect.name}</span><br>ØªÙ… Ø®ØµÙ… ${points} Ù†Ù‚Ø·Ø© Ù…Ù† ${targetTeam}!`;
      } else {
        // Ù†Ù‚Ø§Ø· Ø³Ø§Ù„Ø¨Ø©: ØªØ®ØµÙ… Ù…Ù† Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
        targetTeam = team;
        const absPoints = Math.abs(points);
        scores[targetTeam] -= absPoints;
        colorClass = "effect-self"; // Ø£Ø­Ù…Ø± Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
        message = `<span class="${colorClass}">${effect.name}</span><br>ØªÙ… Ø®ØµÙ… ${absPoints} Ù†Ù‚Ø·Ø© Ù…Ù† ${targetTeam}!`;
      }

      document.getElementById('effectBox').innerHTML = message;

      // ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ØªØ£Ø«ÙŠØ±
      const centerImg = document.getElementById('centerImage');
      if (centerImg) {
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        currentCenterImage = effect.image;
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø¨ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù…ØªÙ†ÙˆØ¹Ø©
        const effects = ['flip-image', 'rotate-image', 'zoom-image'];
        const randomEffect = effects[Math.floor(Math.random() * effects.length)];
        
        // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ ØªØ£Ø«ÙŠØ±Ø§Øª Ø³Ø§Ø¨Ù‚Ø©
        centerImg.classList.remove('flip-image', 'rotate-image', 'zoom-image');
        
        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯
        void centerImg.offsetWidth; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¯ÙÙ‚ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ£Ø«ÙŠØ±
        centerImg.classList.add(randomEffect);
        
        // ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£Ø«ÙŠØ±
        setTimeout(() => {
          centerImg.src = effect.image;
        }, 100);
      }

      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
      remainingSymbols = remainingSymbols.filter(s => s !== symbol);

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
      if (scores[targetTeam] <= 0) {
        scores[targetTeam] = 0; // ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù„Ø§ ØªÙ†Ø²Ù„ ØªØ­Øª Ø§Ù„ØµÙØ±
        const winner = targetTeam === team ? other : team; // Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ùˆ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø¢Ø®Ø± Ø¥Ø°Ø§ Ø®Ø³Ø± Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
        const winComment = getWinComment(winner, targetTeam);
        document.getElementById('effectBox').innerHTML += `\n\n<strong style="color:#ffcc00;font-size:24px;">${winComment}</strong>`;
        document.getElementById('symbolGrid').innerHTML = ''; // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ù…ÙˆØ²
        document.getElementById('nextBtn').style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
        return;
      }

      waitingForNext = true;
      document.getElementById('nextBtn').style.display = 'inline-block';
      // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ù…ÙˆØ² Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
      document.querySelectorAll('.symbol').forEach(elm => elm.classList.add('disabled'));
    }

    function nextTurn() {
      if (!waitingForNext) return;

      waitingForNext = false;
      currentTurn = currentTurn === 0 ? 1 : 0; // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±

      if (currentTurn === 0) {
        round++; // Ø²ÙŠØ§Ø¯Ø© Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆÙ„Ø© Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ¹ÙˆØ¯ Ø§Ù„Ø¯ÙˆØ± Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„
      }

      showTurn(); // Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯
    }

    function updateScoreDisplay() {
      document.getElementById('scoreDisplay').innerHTML =
        `${teams[0]}: <span class="score-value">${scores[teams[0]]}</span> Ù†Ù‚Ø·Ø© |
        ${teams[1]}: <span class="score-value">${scores[teams[1]]}</span> Ù†Ù‚Ø·Ø©`;
    }
  </script>
</body>
</html>
